!function(e){"use strict";function t(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var n=function(e){var n=this;n.options=t({},n.options),t(n.options,e),n.init()};n.prototype={constructor:n,options:{data:null,canvas:null,svg:null,duration:null,steps:null},init:function(){var e=this;e.loadJSON(e.options.data,function(t){e.loadSVG(e.options.canvas,e.options.svg,t.animations,e.options.duration/e.options.steps)})},loadJSON:function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=JSON.parse(n.responseText);t&&"function"==typeof t&&t(e)}},n.send(null)},loadSVG:function(e,t,n,s){var a=this;Snap.load(t,function(t){e.append(t),n.forEach(function(t){var n=e.select(t.id);a.createTransformGroup(n),t.keyframes.translateKeyframes&&new o({element:n.select(".translate"),keyframes:t.keyframes.translateKeyframes,duration:s}),t.keyframes.rotateKeyframes&&new o({element:n.select(".rotate"),keyframes:t.keyframes.rotateKeyframes,duration:s}),t.keyframes.scaleKeyframes&&new o({element:n.select(".scale"),keyframes:t.keyframes.scaleKeyframes,duration:s})})})},createTransformGroup:function(e){if(e.node){var t=e.selectAll("*");e.g().attr("class","translate").g().attr("class","rotate").g().attr("class","scale").append(t)}}};var o=function(e){var n=this;n.options=t({},n.options),t(n.options,e),n.init()};o.prototype={constructor:o,options:{element:null,type:null,keyframes:null,duration:null,originX:null,originY:null},init:function(){var e=this;e.options.type=e.options.element.node.getAttributeNode("class").value;var t=e.options.element.getBBox();e.options.originX=e.options.keyframes[0].cx?e.getOriginX(t,e.options.keyframes[0].cx):e.getOriginX(t,"center"),e.options.originY=e.options.keyframes[0].cy?e.getOriginY(t,e.options.keyframes[0].cy):e.getOriginY(t,"center"),e.resetTween(e.options.element,e.options.type,e.options.keyframes,e.options.originX,e.options.originY),e.playTween(e.options.element,e.options.type,e.options.keyframes,e.options.originX,e.options.originY,e.options.duration,0)},playTween:function(e,t,n,o,s,a,i){var r,l,p,c,f,u,y,m,g=this;"translate"===t?(l=n[i].x,p=n[i].y,r="T "+l+" "+p):"rotate"===t?(c=n[i].angle,r="R "+c+" "+o+" "+s):"scale"===t&&(f=n[i].x,u=n[i].y,r="S "+f+" "+u+" "+o+" "+s),y=i?(n[i].step-n[i-1].step)*a:n[i].step*a,m=mina[n[i].easing],0===i&&0===n[i].step?g.playTween(e,t,n,o,s,a,i+1):0===i&&0!==n[i].step?setTimeout(function(){i!==n.length-1&&g.playTween(e,t,n,o,s,a,i+1)},y):e.animate({transform:r},y,m,function(){i!==n.length-1&&g.playTween(e,t,n,o,s,a,i+1)})},resetTween:function(e,t,n,o,s){var a,i,r,l,p,c;"translate"===t?(i=n[0].x,r=n[0].y,a="T "+i+" "+r):"rotate"===t?(l=n[0].angle,a="R "+l+" "+o+" "+s):"scale"===t&&(p=n[0].x,c=n[0].y,a="S "+p+" "+c+" "+o+" "+s),e.transform(a)},getOriginX:function(e,t){return"left"===t?e.x:"center"===t?e.cx:"right"===t?e.x2:void 0},getOriginY:function(e,t){return"top"===t?e.y:"center"===t?e.cy:"bottom"===t?e.y2:void 0}},e.svgAnimation=n,e.svgTween=o}(window);